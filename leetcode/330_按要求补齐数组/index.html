<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">

    
<link rel="stylesheet" href="/blog-theme/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet" href="/blog-theme/css/global.css">

    
<link rel="stylesheet" href="/blog-theme/css/article.css">

    
    
<script src="/blog-theme/bootstrap/js/bootstrap.bundle.min.js"></script>


    <title>
        I&#39;m prime
    </title>
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="bg-dark">
    <header>
    <nav class="navbar navbar-expand navbar-expand-lg navbar-dark sticky-top shadow">
        <div class="container-fluid">
            <a class="navbar-brand" href="/blog-theme/">

                

            I&#39;m prime
            </a>

            <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
                <ul class="navbar-nav">

                    

                        <li class="nav-item">
                            <a class="nav-link " aria-current="page"
                                href="/blog-theme/">
                                主页
                            </a>
                        </li>

                    

                        <li class="nav-item">
                            <a class="nav-link " aria-current="page"
                                href="/blog-theme/archives/">
                                归档
                            </a>
                        </li>

                    

                </ul>
            </div>
        </div>
    </nav>
</header>
    <div class="container-fluid mt-md-5">
    <div class="row">
        <div class="col"></div>
        <div class="col-12 col-sm-10 col-md-8 col-lg-7 col-xl-5 shadow-lg">
            <div class="container-fluid mt-5 text-center">
                <h1 class="text-white">
                    330. 按要求补齐数组(每日一题)
                </h1>
                <p class="mt-2 text-secondary">
                    2020.12.29
                </p>
            </div>

            <article class="container-fluid text-white">
                <h2 id="leetcode-笔记"><a href="#leetcode-笔记" class="headerlink" title="leetcode 笔记"></a><a href="https://lzyprime.github.io/leetcode/leetcode">leetcode 笔记</a></h2><hr>
<h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">给定一个已排序的正整数数组 nums，和一个正整数 n 。从 [<span class="number">1</span>, n] 区间内选取任意个数字补充到 nums 中，使得 [<span class="number">1</span>, n] 区间内的任何数字都可以用 nums 中某几个数字的和来表示。请输出满足上述要求的最少需要补充的数字个数。</span><br><span class="line"></span><br><span class="line">示例 <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line">输入: nums = [<span class="number">1</span>,<span class="number">3</span>], n = <span class="number">6</span></span><br><span class="line">输出: <span class="number">1</span> </span><br><span class="line">解释:</span><br><span class="line">根据 nums 里现有的组合 [<span class="number">1</span>], [<span class="number">3</span>], [<span class="number">1</span>,<span class="number">3</span>]，可以得出 <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>。</span><br><span class="line">现在如果我们将 <span class="number">2</span> 添加到 nums 中， 组合变为: [<span class="number">1</span>], [<span class="number">2</span>], [<span class="number">3</span>], [<span class="number">1</span>,<span class="number">3</span>], [<span class="number">2</span>,<span class="number">3</span>], [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]。</span><br><span class="line">其和可以表示数字 <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>，能够覆盖 [<span class="number">1</span>, <span class="number">6</span>] 区间里所有的数。</span><br><span class="line">所以我们最少需要添加一个数字。</span><br><span class="line">示例 <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line">输入: nums = [<span class="number">1</span>,<span class="number">5</span>,<span class="number">10</span>], n = <span class="number">20</span></span><br><span class="line">输出: <span class="number">2</span></span><br><span class="line">解释: 我们需要添加 [<span class="number">2</span>, <span class="number">4</span>]。</span><br><span class="line">示例 <span class="number">3</span>:</span><br><span class="line"></span><br><span class="line">输入: nums = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>], n = <span class="number">5</span></span><br><span class="line">输出: <span class="number">0</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>来源：力扣（LeetCode）<br>链接：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/patching-array">https://leetcode-cn.com/problems/patching-array</a><br>著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。  </p>
</blockquote>
<h2 id="code"><a href="#code" class="headerlink" title="code"></a>code</h2><p>给定 <code>1 ~ i</code> 连续数字， 组合可表达的范围为 <code>1 ~ (2 * i + 1)</code>, 最大范围无非是所有数相加。</p>
<p>初始表达范围<code>[0, v = 1)</code>。 对于<code>nums</code>中<code>item</code>,  如果<code>item</code> 已经在表达范围内(<code>item &lt; v</code>)， 则 <code>v += item</code> 作为新的范围。</p>
<p>如果没有在范围内，则需要补数字， 每次补一个边界外下一个数字，也就是<code>v</code>, 可表达的范围变为<code>[0, v += v)</code> 直到能表示<code>item</code></p>
<ul>
<li><h3 id="c"><a href="#c" class="headerlink" title="c++"></a>c++</h3></li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minPatches</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> v = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>, i = <span class="number">0</span>, size = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">while</span> (v &lt;= n) </span><br><span class="line">            <span class="keyword">if</span> (i &lt; size &amp;&amp; nums[i] &lt;= v)</span><br><span class="line">                v += nums[i++];</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                ans++, v &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"> <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">minPatches</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt; &amp;nums, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> v = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, size = nums.<span class="built_in">size</span>(); v &lt;= n; ++i) &#123;</span><br><span class="line">      <span class="keyword">long</span> <span class="keyword">long</span> next = i &lt; size ? nums[i] : (n + <span class="number">1L</span>);</span><br><span class="line">      <span class="keyword">while</span> (v &lt; next &amp;&amp; v &lt;= n) ans++, v &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">      v += next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li><h3 id="kotlin"><a href="#kotlin" class="headerlink" title="kotlin"></a>kotlin</h3></li>
</ul>
<p>一刀流， 尾递归</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">tailrec</span> <span class="function"><span class="keyword">fun</span> <span class="title">minPatches</span><span class="params">(ans:<span class="type">Int</span>, v:<span class="type">Long</span>, i:<span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> = <span class="keyword">when</span> &#123;v &gt; n -&gt; ans; i &lt; nums.size &amp;&amp; nums[i] &lt;= v -&gt; minPatches(ans, v + nums[i], i + <span class="number">1</span>) <span class="keyword">else</span> -&gt; minPatches(ans + <span class="number">1</span>, v shl <span class="number">1</span>, i) &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">minPatches</span><span class="params">(nums: <span class="type">IntArray</span>, n: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">        <span class="keyword">tailrec</span> <span class="function"><span class="keyword">fun</span> <span class="title">minPatches</span><span class="params">(ans:<span class="type">Int</span>, v:<span class="type">Long</span>, i:<span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> = <span class="keyword">when</span> &#123;</span><br><span class="line">            v &gt; n -&gt; ans</span><br><span class="line">            i &lt; nums.size &amp;&amp; nums[i] &lt;= v -&gt; minPatches(ans, v + nums[i], i + <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">else</span> -&gt; minPatches(ans + <span class="number">1</span>, v shl <span class="number">1</span>, i)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> minPatches(<span class="number">0</span>, <span class="number">1L</span>, <span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><h3 id="scala"><a href="#scala" class="headerlink" title="scala"></a>scala</h3></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@tailrec</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">minPatches</span></span>(ans:<span class="type">Int</span>, v:<span class="type">Long</span>, i:<span class="type">Int</span>):<span class="type">Int</span> = <span class="keyword">if</span>(v &gt; n) ans <span class="keyword">else</span> <span class="keyword">if</span>(i &lt; nums.length &amp;&amp; nums(i) &lt;= v) minPatches(ans, v + nums(i), i + <span class="number">1</span>) <span class="keyword">else</span> minPatches(ans + <span class="number">1</span>, v &lt;&lt; <span class="number">1</span>, i)</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.annotation.tailrec</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">minPatches</span></span>(nums: <span class="type">Array</span>[<span class="type">Int</span>], n: <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">    <span class="meta">@tailrec</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minPatches</span></span>(ans: <span class="type">Int</span>, v: <span class="type">Long</span>, i: <span class="type">Int</span>): <span class="type">Int</span> = <span class="keyword">if</span> (v &gt; n) ans</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (i &lt; nums.length &amp;&amp; nums(i) &lt;= v) minPatches(ans, v + nums(i), i + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">else</span> minPatches(ans + <span class="number">1</span>, v &lt;&lt; <span class="number">1</span>, i)</span><br><span class="line">    </span><br><span class="line">    minPatches(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><h3 id="Rust"><a href="#Rust" class="headerlink" title="Rust"></a>Rust</h3></li>
</ul>
<p>拿不到外层的<code>nums</code>, <code>n</code>。 只能传进去。或者用Y组合子 + 闭包</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">impl</span> Solution &#123;</span><br><span class="line">    <span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">min_patches</span></span>(nums: <span class="built_in">Vec</span>&lt;<span class="built_in">i32</span>&gt;, n: <span class="built_in">i32</span>) -&gt; <span class="built_in">i32</span> &#123;</span><br><span class="line">        <span class="function"><span class="keyword">fn</span> <span class="title">min_patches</span></span>(nums: <span class="built_in">Vec</span>&lt;<span class="built_in">i32</span>&gt;, n: <span class="built_in">i32</span>, ans: <span class="built_in">i32</span>, v: <span class="built_in">i64</span>, i: <span class="built_in">usize</span>) -&gt; <span class="built_in">i32</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> v &gt; (n <span class="keyword">as</span> <span class="built_in">i64</span>) &#123;</span><br><span class="line">                ans</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> i &lt; nums.len() &amp;&amp; nums[i] <span class="keyword">as</span> <span class="built_in">i64</span> &lt;= v &#123;</span><br><span class="line">                min_patches(nums, n, ans, v + (nums[i] <span class="keyword">as</span> <span class="built_in">i64</span>), i + <span class="number">1</span>)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                min_patches(nums, n, ans + <span class="number">1</span>, v &lt;&lt; <span class="number">1</span>, i)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        min_patches(nums, n, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Y组合子实现递归"><a href="#Y组合子实现递归" class="headerlink" title="Y组合子实现递归"></a>Y组合子实现递归</h2><ul>
<li><h3 id="kotlin-1"><a href="#kotlin-1" class="headerlink" title="kotlin"></a>kotlin</h3></li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">minPatches</span><span class="params">(nums: <span class="type">IntArray</span>, n: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> = Y&lt;Data, <span class="built_in">Int</span>&gt; &#123; f, (ans, v, i) -&gt; <span class="keyword">when</span> &#123; v &gt; n -&gt; ans; i &lt; nums.size &amp;&amp; nums[i] &lt;= v -&gt; f(Data(ans, v + nums[i], i + <span class="number">1</span>))<span class="keyword">else</span> -&gt; f(Data(ans + <span class="number">1</span>, v shl <span class="number">1</span>, i)) &#125; &#125;(Data(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>))</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">data</span> <span class="class"><span class="keyword">class</span> <span class="title">Data</span></span>(<span class="keyword">val</span> ans: <span class="built_in">Int</span>, <span class="keyword">val</span> v: <span class="built_in">Long</span>, <span class="keyword">val</span> i: <span class="built_in">Int</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T, R&gt;</span> <span class="title">Y</span><span class="params">(g: ((<span class="type">T</span>) -&gt; <span class="type">R</span>, <span class="type">T</span>) -&gt; <span class="type">R</span>)</span></span>: (T) -&gt; R = &#123; g(Y(g), it) &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">minPatches</span><span class="params">(nums: <span class="type">IntArray</span>, n: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> =</span><br><span class="line">        Y&lt;Data, <span class="built_in">Int</span>&gt; &#123; f, (ans, v, i) -&gt;</span><br><span class="line">            <span class="keyword">when</span> &#123;</span><br><span class="line">                v &gt; n -&gt; ans</span><br><span class="line">                i &lt; nums.size &amp;&amp; nums[i] &lt;= v -&gt; f(Data(ans, v + nums[i], i + <span class="number">1</span>))</span><br><span class="line">                <span class="keyword">else</span> -&gt; f(Data(ans + <span class="number">1</span>, v shl <span class="number">1</span>, i))</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;(Data(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><h3 id="scala-1"><a href="#scala-1" class="headerlink" title="scala"></a>scala</h3></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">Y</span></span>[<span class="type">T</span>, <span class="type">R</span>](g: (<span class="type">T</span> =&gt; <span class="type">R</span>, <span class="type">T</span>) =&gt; <span class="type">R</span>): <span class="type">T</span> =&gt; <span class="type">R</span> = t =&gt; g(<span class="type">Y</span>(g), t)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">minPatches</span></span>(nums: <span class="type">Array</span>[<span class="type">Int</span>], n: <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">    <span class="type">Y</span>[(<span class="type">Int</span>, <span class="type">Long</span>, <span class="type">Int</span>), <span class="type">Int</span>]&#123; (f, t) =&gt;</span><br><span class="line">      <span class="keyword">if</span> (t._2 &gt; n) t._1</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (t._3 &lt; nums.length &amp;&amp; nums(t._3) &lt;= t._2)</span><br><span class="line">      f((t._1, t._2 + nums(t._3), t._3 + <span class="number">1</span>))</span><br><span class="line">    <span class="keyword">else</span> f(t._1 + <span class="number">1</span>, t._2 &lt;&lt; <span class="number">1</span>, t._3)</span><br><span class="line">    &#125;((<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><h3 id="Rust-1"><a href="#Rust-1" class="headerlink" title="Rust"></a>Rust</h3></li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">Y</span></span>&lt;<span class="symbol">&#x27;a</span>, T, R&gt;(g: &amp;<span class="symbol">&#x27;a</span> <span class="keyword">impl</span> <span class="built_in">Fn</span>(&amp;<span class="keyword">dyn</span> <span class="built_in">Fn</span>(T) -&gt; R, T) -&gt; R) -&gt; <span class="keyword">impl</span> <span class="built_in">Fn</span>(T) -&gt; R + <span class="symbol">&#x27;a</span> &#123;</span><br><span class="line">    <span class="keyword">move</span> |t| g(&amp;Y(g), t)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> Solution &#123;</span><br><span class="line">    <span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">min_patches</span></span>(nums: <span class="built_in">Vec</span>&lt;<span class="built_in">i32</span>&gt;, n: <span class="built_in">i32</span>) -&gt; <span class="built_in">i32</span> &#123;</span><br><span class="line">        (Y(&amp;|f: &amp;<span class="keyword">dyn</span> <span class="built_in">Fn</span>((<span class="built_in">i32</span>, <span class="built_in">i64</span>, <span class="built_in">usize</span>)) -&gt; <span class="built_in">i32</span>, (ans, v, i)|</span><br><span class="line">            <span class="keyword">if</span> v &gt; (n <span class="keyword">as</span> <span class="built_in">i64</span>) &#123;</span><br><span class="line">                ans</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> i &lt; nums.len() &amp;&amp; nums[i] <span class="keyword">as</span> <span class="built_in">i64</span> &lt;= v &#123;</span><br><span class="line">                f((ans, v + (nums[i] <span class="keyword">as</span> <span class="built_in">i64</span>), i + <span class="number">1</span>))</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                f((ans + <span class="number">1</span>, v &lt;&lt; <span class="number">1</span>, i))</span><br><span class="line">            &#125;</span><br><span class="line">        ))((<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
            </article>
        </div>

        <div class="col"></div>
    </div>
</div>
    <footer class="h-25"> footer </footer>
</body>

</html>